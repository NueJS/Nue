!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).nue={})}(this,(function(t){"use strict";const e={t:{},o:{defaultCSS:""}},n=t=>document.createElement(t),o=t=>document.createComment(t),s={i:"*if",_:"*else",l:"*else-if"},r={u:"*for",p:"*key"},c={m:"*enter",v:"*exit",h:"*move"},i="*ref",_=Symbol(),a=Symbol(),l=Symbol(),f=Symbol(),u=(t,e)=>t.getAttribute(e),d=(t,e)=>t.removeAttribute(e),p=(t,e,n)=>t.setAttribute(e,n),{m:m,v:y,h:b}=c,v=t=>({m:u(t,m),v:u(t,y),h:u(t,b)}),h=document.createElement("div"),g=t=>{const e="data-"+t;p(h,e,"");const n=Object.keys(h.dataset)[0];return d(h,e),n},S=t=>(t=>t.toLowerCase())(t)+"-",C={g:0,S:1,C:2,k:3,A:4,P:5,U:6,I:7,V:8},x=0,w=1,k=0,A=1,P=(t,e)=>[e.slice(0,-1).reduce(((t,e)=>t[e]),t),e[e.length-1]],U=t=>void 0!==t,I=t=>"object"==typeof t&&null!==t,V=(t,e=!1)=>{const n=(e?t:t.slice(1,-1)).replace(/ /g,"");return n.includes("(")&&n.includes(")")?((t,e)=>{const n=t.slice(0,-1),[o,s]=n.split("("),r=s.split(",").map((t=>t.split(".")));return{j:w,R:r,O:t=>(0,t.fn[o])(...r.map((e=>P(t.$,e))).map((([t,e])=>t[e]))),D:t,M:e}})(n,t):((t,e)=>{const n=t.split(".");return{j:x,O:t=>{{const[e,o]=P(t.$,n);return e[o]}},R:[n],D:t,M:e}})(n,t)},{g:$,V:j,A:R,P:O,k:D,I:M,C:N,U:T,S:G}=C,E=(t,e,n)=>{const o=t.textContent||"";if(!o.trim())return void e.push((()=>t.remove()));const s=((t,e)=>{const n=[];let o=!1,s="",r=-1;const c=t=>{s="",o=t};for(;++r<t.length;){const e=t[r],i=t[r+1];if("!"===e&&"["===i)s+="[",r+=1;else if("["===e)s&&n.push(s),c(!0);else if(o&&"]"===e){const t=V(s,!0);n.push(t),c(!1)}else s+=e}return s&&n.push(s),n})(o),r=[];s.forEach((t=>{let e;if("string"==typeof t)e=document.createTextNode(t);else{const n=`[${t.D}]`;e=document.createTextNode(n),e.N={T:t}}r.push(e)})),e.push((()=>{r.forEach((e=>t.before(e))),t.remove()}))},{m:H,v:q}=c,{m:F,v:K,h:L}=c,{u:z,p:B}=r,J=[F,K,L,z,B],{_:Q,i:W,l:X}=s,Y=(t,e,n,c)=>{t.N={G:!0,H:e,q:[]};const i=u(t,r.u);if(i)((t,e,n)=>{const[o,s,r]=e.replace(/\(|\)|,|(\sin\s)/g," ").split(/\s+/).filter((t=>t)),c=U(r),i=u(t,B);t.N.F={K:V(c?r:s,!0),L:o,B:c?s:void 0,p:V(i)},t.N.J=v(t),J.forEach((e=>d(t,e)))})(t,i);else{const e=Z(t);if(e){const[n,r]=e;((t,e,n)=>{t.N={...t.N,W:e,J:v(t)},e!==s._&&(t.N.X=V(n)),[H,q,e].forEach((e=>d(t,e)))})(t,n,r),n===W&&c.push((()=>(t=>{const e=[];let n=t.nextElementSibling;const r=o("if");for(t.before(r);;){const t=n&&n.N&&n.N.W;if(!t||t===s.i)break;e.push(n),n=n.nextElementSibling}(e[e.length-1]||t).after(o("/if")),e.forEach((t=>t.remove()));let c=[...t.N.X.R];e.forEach((t=>{if(t.N.W!==s._){const e=t.N.X.R;c=[...c,...e]}})),t.N={...t.N,Y:e,Z:c,tt:r}})(t)))}}},Z=t=>{const e=[Q,W,X];for(const n of e){const e=u(t,n);if(null!==e)return[n,e]}return!1},tt=(t,e,n)=>{const o=e.et[t.nodeName];e.H;if(t.nodeType===t.TEXT_NODE)return E(t,n);o&&Y(t,o,0,n),t.hasAttribute&&((t,e)=>{const n=[],o=!!e;for(const e of t.getAttributeNames()){const r=t.getAttribute(e),c="["===(s=r)[0]&&s.endsWith("]");let _,a=e,l=$;const f=e[0];if(e===i)l=j,_=r;else if(e.startsWith("fn.")){if(!o)continue;l=M,a=e.slice(3),_=r}else if(e.startsWith("$.")){if(!o)continue;a=e.slice(2),c?(l=N,_=V(r)):(l=T,_=r)}else"@"===f?(l=G,a=e.slice(1),_=r):c&&(e.endsWith(":if")?(l=O,a=e.slice(0,-3)):e.startsWith("bind:")?(l=R,a=e.slice(5)):":"===f&&(l=D,a=e.slice(1)),_=V(r));if(_){let o=a;a.includes("-")&&(o=g(a)),n.push({nt:o,T:_,j:l}),d(t,e)}}var s;n.length&&(t.N||(t.N={}),t.N.q=n)})(t,o),t.hasChildNodes()&&t.childNodes.forEach((t=>tt(t,e,n)))},et=t=>t.reduce(((t,e,n)=>(t[e]=n,t)),{}),nt=(t,e,n)=>{t.splice(e,0,n)},ot=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},st=t=>{t.forEach((t=>t())),t.length=0},rt=t=>{const{components:n,html:o,css:s,ot:r}=t,c=n?((t,e)=>e.reduce(((t,e)=>t.replace(new RegExp(`<${e.name}|</${e.name}`,"g"),S)),t))(o,n):o,{defaultCSS:i}=e.o,_=i?ct(i,"default"):"",a=s?ct(s,"scoped"):"";r.innerHTML=c+_+a;const l=[];tt(r.content,t,l),st(l)},ct=(t,e)=>`<style ${e}>${t}</style>`,it={st:!1,rt:!1,ct:!1,it:!1},_t=(t,e,n,o)=>{const s=((t,e)=>{if(0===e.length)return t;let n,o;[n,o]=P(t.$,e),n[l]||([n,o]=P(t.$,e.slice(0,-1))),it.it=!0;const s=n[o];return it.it=!1,s})(t,e);n._t&&s!==t&&t.at.add(n._t);const r=((t,e)=>()=>e.add(t))(n,s.lt[o]);let c=s.ft;const i=e.length-1;return e.forEach(((t,e)=>{c[t]||(c[t]={[f]:new Set}),c=c[t],e===i&&c[f].add(r)})),()=>c[f].delete(r)},at=(t,e,n,o)=>{const s=e.map((e=>_t(t,e,n,o)));return()=>s.forEach((t=>t()))},lt=(t,e)=>{t.refs={},t.H=e,t.ft={[f]:new Set},t.lt=[new Set,new Set],t.ut=[],t.dt=[],t.yt=new Set,t.at=new Set,t.bt||(t.bt={}),t.fn||(t.fn=t.parent?Object.create(t.parent.fn):{}),(t=>{t.vt={ht:[],gt:[],St:[],Ct:[]};const{ht:e,gt:n,St:o,Ct:s}=t.vt;t.events={onMount:t=>e.push(t),onDestroy:t=>n.push(t),beforeUpdate:t=>o.push(t),afterUpdate:t=>s.push(t),onMutate:(n,o)=>{e.push((()=>{const e=o.map((t=>t.split(".")));return at(t,e,n,0)}))}}})(t)},ft=t=>{t.xt&&(t.wt=t.xt.map((t=>t())),t.kt=!0)},ut=t=>{t.wt&&(t.wt.forEach((t=>t())),t.kt=!1)},dt=(t,e)=>{t.xt||(t.xt=[]),t.xt.push(e)},pt=(t,e,n,o)=>{o._t=e;dt(e,(()=>(o(),at(t,n,o,A))))},mt=(t,e,n)=>{const o=e.nt,{O:s,R:r}=e.T;if(pt(n,t,r,(()=>{t[o]=s(n)})),e.j===C.A){const e="number"===t.type||"range"===t.type,s=()=>{let s=t[o];s=e?Number(s):s,((t,e,n)=>{const[o,s]=P(t,e);Reflect.set(o,s,n)})(n.$,r[0],s)};t.addEventListener("input",s)}},{S:yt,k:bt,g:vt,P:ht,I:gt,C:St,U:Ct,V:xt,A:wt}=C,kt={[yt]:(t,e,n)=>{const o=e.T,s=e.nt,r=n.fn[o],c=t=>r(t,n.$);dt(t,(()=>(t.addEventListener(s,c),()=>t.removeEventListener(s,c))))},[bt]:mt,[wt]:mt,[vt]:(t,e,n)=>{const o=e.T;pt(n,t,o.R,(()=>p(t,e.nt,o.O(n))))},[ht]:(t,e,n)=>{const o=e.T,s=e.nt;pt(n,t,o.R,(()=>o.O(n)?p(n,s,""):d(t,s)))},[gt]:(t,e,n)=>{t.fn||(t.fn=Object.create(t.parent.fn)),t.fn[e.nt]=n.fn[e.T]},[St]:(t,e,n)=>{const{T:o,nt:s}=e,{O:r,R:c}=o,i=()=>{t.$[s]=r(n)};t.At?i():(t.bt||(t.bt={}),t.bt[s]=r(n)),at(n,c,i,k)},[Ct]:(t,e)=>{(t.At?t.$:t.bt)[e.nt]=e.T},[xt]:(t,e,n)=>{const o=e.T;n.refs[o]=t}},At=(t,e,n)=>{e.forEach((e=>{const o=e.j,s=kt[o];s&&s(t,e,n)}))},Pt=(t,e)=>{t.N&&(e.N=t.N),t.hasChildNodes()&&t.childNodes.forEach(((t,n)=>{Pt(t,e.childNodes[n])}))},Ut=t=>{const e=t.cloneNode(!0);return Pt(t,e),e},It=(t,e,n=!1,o)=>{t.style.animation=e,n&&Vt(t,(()=>{t.style.animation="",o&&o()}))},Vt=(t,e)=>{t.addEventListener("animationend",e,{once:!0})},$t=(t,e)=>{const n=t.N,o=[t];n.Y&&n.Y.forEach((t=>{o.push(Ut(t))})),t.Pt=!0;const{Z:s}=n,r=t.previousSibling;let c,i;const _=()=>{let t=!1;o.forEach((n=>{const{Pt:o,isConnected:s}=n,{X:_,J:a}=n.N,{m:l,v:f}=a,u=!_||_.O(e);if(!t&&u){if(t=!0,!s){o||(Tt(n,e),n.Pt=!0);const t=()=>{r.after(n),l&&i&&It(n,l,!0)};c&&c.N.J.v&&n!==c?Vt(c,t):t(),c=n}}else s&&(f?(p=f,(d=n).disconnectedCallback(),d.Ut=!0,It(d,p,!0,(()=>d.remove()))):n.remove());var d,p}))};at(e,s,_,k),e.dt.push((()=>{t.remove(),_(),i=!0}))},jt=t=>({It:t.offsetLeft,Vt:t.offsetTop}),Rt=(t,e)=>{const[n,o]=t,{$t:s,jt:r,Rt:c,Ot:i}=e,_=((t,e,n)=>{const{Dt:o,Mt:s,Nt:r}=t,c=Ut(o);return c.At=!0,c.parent=s,c.bt=r(e,n),c})(e,o,n);0===n?r.after(_):s[n-1].after(_),s.splice(n,0,_),c.m&&i&&It(_,c.m,!0)},Ot=(t,e)=>{const[o,s]=t;((t,e)=>{t.Tt=!0,e.Tt=!0;const o=t.parentNode,s=e.parentNode,r=n("div"),c=n("div");o.replaceChild(r,t),s.replaceChild(c,e),o.replaceChild(e,r),s.replaceChild(t,c),t.Tt=!1,e.Tt=!1})(e[o],e[s]),ot(e,o,s)},Dt=(t,e,n)=>{const o=jt(t),s=e.It-o.It,r=e.Vt-o.Vt;requestAnimationFrame((()=>{t.style.transform=`translate(${s}px, ${r}px)`,t.style.transition="",requestAnimationFrame((()=>{t.style.transform="",t.style.transition=`transform ${n}`}))}))},Mt=(t,e,n,o)=>{const{$t:s,Ot:r,Rt:c,F:i}=t,{h:_,v:a}=c,{L:l,B:f}=i,u=Object.keys(n),d=()=>{u.length&&u.forEach((t=>{const e=Number(t),o=s[e];o&&n[e].forEach((t=>{const[e,n]=P(o.$[l],t.Gt);e[n]=t.Et}))}))};e.length?(()=>{const n=(t=>{const{Mt:e,Ht:n,qt:o}=t,s=o();return{Ft:s,Kt:n(),Lt:et(s)}})(t),c=((t,e,n)=>{const o={zt:[],Bt:[],Jt:[]};for(const s of n)for(;;){const n=t.Ft[s];if(!U(n))break;if(n in e.Lt)break;o.zt.push(s),t.Ft.splice(s,1),t.Kt.splice(s,1)}for(const s of n){const n=e.Ft[s];U(n)&&(n in t.Lt||(o.Bt.push([s,e.Kt[s]]),nt(t.Ft,s,n),nt(t.Kt,s,e.Kt[s])))}for(const s of n){const n=t.Ft[s];if(n!==e.Ft[s]){const r=e.Lt[n];o.Jt.push([s,r]),ot(t.Ft,s,r),ot(t.Kt,s,r)}}return t.Lt=et(t.Ft),o})(o,n,e);_&&r&&((t,e)=>{for(const n of t){const t=e[n];t&&(t.Qt=jt(t))}})(e,s);const i=()=>{((t,e)=>{const{zt:n,Bt:o,Jt:s}=t,{$t:r}=e;n.forEach((t=>{return(n=r)[e=t].remove(),void n.splice(e,1);var e,n})),o.forEach((t=>Rt(t,e))),s.forEach((t=>Ot(t,r)))})(c,t),r&&(f&&e.forEach((t=>{s[t]&&(s[t].$[f]=t)})),d()),_&&r&&((t,e,n)=>{for(const o of e){const e=t[o];e&&e.Qt&&Dt(e,e.Qt,n)}})(s,e,_)};if(a&&c.zt.length){((t,e,n)=>{const o=t.length-1;t.forEach(((t,s)=>{It(t,e,!0,(()=>{s===o&&n()}))}))})(c.zt.map(((t,e)=>s[t+e])),a,i)}else i();o.Kt=[...n.Kt],o.Ft=n.Ft,o.Lt=n.Lt})():d()},Nt=(t,e)=>{const n=t.N,s=n.F,{K:r,B:c,L:i,p:_}=s,a=r.R[0],l=a.join("."),f=o("loop/"),u={Kt:[],Ft:[],Lt:{}},d=(t,e)=>{const n={[i]:t};return c&&(n[c]=e),n},p=()=>r.O(e),m=(e,n)=>{const o={$:d(e,n),H:t.H};return _.O(o)},y={$t:[],jt:f,Dt:t,Ht:p,Nt:d,qt:()=>p().map(m),Mt:e,Ot:!1,F:s,Rt:n.J},b=()=>{const t=p().length;Mt(y,(t=>{const e=[];for(let n=0;n<t;n++)e.push(n);return e})(t),{},u)};e.dt.push((()=>{t.before(f),t.before(o("/loop")),t.remove(),b(),y.Ot=!0}));_t(e,a,(t=>{if(t.some((t=>{return e=t.path,n=a,e.length===n.length&&e.every(((t,e)=>t===n[e]));var e,n})))b();else{const[e,n]=((t,e,n)=>{const o=new Set,s={},r=n.length;return t.forEach((t=>{const{newValue:n,oldValue:c,livePath:i}=t,_=i();if(_.join(".").startsWith(e)){const t=_[r];if(_.length===r+1)if("length"===t)for(let t=n;t<c;t++)o.add(t);else o.add(Number(t));else{const e={Gt:_.slice(r+1),Et:n};t in s?s[t].push(e):s[t]=[e]}}})),[[...o].sort(((t,e)=>t-e)),s]})(t,l,a);Mt(y,e,n,u)}}),A)},Tt=(t,e)=>{const{N:n,nodeType:o}=t;if(n){if(e.yt.add(t),n.G){if(t.parent=e,t.bt={},n.F)return Nt(t,e);n.W===s.i&&$t(t,e)}else if(o===t.TEXT_NODE)return((t,e)=>{const n=t.N,{O:o,R:s}=n.T;pt(e,t,s,(()=>{t.textContent=o(e)}))})(t,e);n.q&&At(t,n.q,e)}(t=>t.N&&t.N.G)(t)||t.hasChildNodes()&&t.childNodes.forEach((t=>Tt(t,e)))},Gt=t=>{t[f].forEach((t=>t()));for(const e in t)Gt(t[e])},Et=(t,e)=>{((t,e)=>{let n=t;const o=e.length-1;e.forEach(((t,e)=>{n[f].forEach((t=>t())),n=n[t],n&&e===o&&Gt(n)}))})(t.ft,e),t.Wt||(t=>{t.Wt=!0,setTimeout((()=>{(t=>{const{St:e,Ct:n}=t.vt,{ut:o,lt:s}=t;e.forEach((t=>t(o))),s.forEach((t=>((t,e)=>{t.forEach((t=>{const{_t:n}=t;(n&&n.kt||!n)&&t(e)})),t.clear()})(t,o))),n.forEach((t=>t(o)))})(t),t.ut=[],t.Wt=!1}),0)})(t)},Ht={Xt:[]},qt=(t,e,n)=>{const[o,s]=(t=>{it.st=!0;const e=t();it.st=!1;const n=[...Ht.Xt];return Ht.Xt=[],[e,n]})(e),r=s.map((t=>1===t.length?t:t.slice(0,-1)));return at(t,r,(()=>{const o=e();t.$[n]=o}),k),o},Ft=(t,e,n=[])=>{const o=t.parent&&t.parent.$;let s=n;if(!I(e))return e;const r=Array.isArray(e)?[]:{};Object.keys(e).forEach((n=>{r[n]=Ft(t,e[n],[...s,n])}));return new Proxy(r,{has:(t,e)=>e in t||!!o&&e in o,set(e,n,r){if(e[n]===r)return!0;if(n===a)return s=[...s.slice(0,-1),r],!0;const c=n in e;let i=r;if(it.ct){if(c)return!0;"function"==typeof i&&(i=qt(t,i,n))}else if(!c&&o&&n in o)return Reflect.set(o,n,r);I(i)&&(i[l]?Array.isArray(e)&&(i[a]=n):i=Ft(t,i,[...s,n]));const _=()=>Reflect.set(e,n,i);if(it.rt){const o=e[n],r=i,c=_();if(o!==r){const e=()=>[...s,n],c=e();t.ut.push({oldValue:o,newValue:r,path:c,livePath:e}),Et(t,c)}return c}return _()},deleteProperty:(e,n)=>(it.rt&&Et(t,[...s,n]),Reflect.deleteProperty(e,n)),get(e,n){if(n===l)return!0;if(n===_)return e;if(it.st){const t=[...s,n];0!==s.length?Ht.Xt[Ht.Xt.length-1]=t:Ht.Xt.push(t)}return n in e?it.it?t:Reflect.get(e,n):o?Reflect.get(o,n):void 0}})};function Kt(t,e){t.$=Ft(t,t.bt||{},[]),e.js&&((t,e)=>{it.rt=!1,it.ct=!0,t(e),it.rt=!0,it.ct=!1})(e.js,t),t.At&&At(t,t.N.q,t),t.childNodes.forEach((e=>Tt(e,t))),((t,e)=>{const n=Ut(e.content);Tt(n,t),st(t.dt),t.attachShadow({mode:"open"}).append(n)})(t,e.ot),ft(t)}const Lt=t=>{const{t:o}=e,s=t.name;if(s in o)return;const r=(t=>{const e=new t,o=t.name;return e.Yt=t,e.H=o,e.Zt=S(o),e.ot=n("template"),e.et=e.components?e.components.reduce(((t,e)=>{const{name:n}=e;var o;return t[(o=n,(t=>t.toUpperCase())(o)+"-")]=n,t}),{}):{},e})(t);o[s]=r,rt(r);class c extends HTMLElement{constructor(){super(),lt(this,s)}connectedCallback(){((t,e)=>{if(t.Tt)return;t.Ut=!1;const{yt:n,at:o,vt:s,shadowRoot:r}=t;r?o.forEach(ft):(Kt(t,e),n.forEach(ft)),s.ht.forEach((t=>t()))})(this,r)}disconnectedCallback(){(t=>{const{vt:e,at:n,Ut:o,Tt:s}=t;o||s||(n.forEach(ut),e.gt.forEach((t=>t())))})(this)}}const{Zt:i,components:_}=r;customElements.define(i,c),_&&_.forEach(Lt)};t.render=(t,o)=>{o&&(e.o={...e.o,...o}),Lt(t);const s=t.name,r=document.querySelector(s),c=n(S(s));return r.replaceWith(c),c},Object.defineProperty(t,"te",{value:!0})}));
