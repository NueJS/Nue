!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).nue={})}(this,(function(t){"use strict";const e={t:{},o:{defaultCSS:""}},n=t=>document.createElement(t),o=t=>document.createComment(t),s={i:"*if",_:"*else",l:"*else-if"},r={u:"*for",p:"*key"},c={m:"*enter",v:"*exit",h:"*move"},i="*ref",_=Symbol(),a=Symbol(),l=Symbol(),f=Symbol(),u=(t,e)=>t.getAttribute(e),p=(t,e)=>t.removeAttribute(e),d=(t,e,n)=>t.setAttribute(e,n),{m:m,v:y,h:b}=c,v=t=>({m:u(t,m),v:u(t,y),h:u(t,b)}),h=document.createElement("div"),g=t=>{const e="data-"+t;d(h,e,"");const n=Object.keys(h.dataset)[0];return p(h,e),n},x=t=>(t=>t.toLowerCase())(t)+"-",S={g:0,S:1,C:2,k:3,A:4,P:5,U:6,V:7,I:8},C=0,w=1,k=0,A=1,P=(t,e)=>[e.slice(0,-1).reduce(((t,e)=>t[e]),t),e[e.length-1]],U=t=>void 0!==t,V=t=>"object"==typeof t&&null!==t,I=(t,e=!1)=>{const n=(e?t:t.slice(1,-1)).replace(/ /g,"");return n.includes("(")&&n.includes(")")?((t,e)=>{const n=t.slice(0,-1),[o,s]=n.split("("),r=s.split(",").map((t=>t.split(".")));return{j:w,N:r,R:t=>(0,t.fn[o])(...r.map((e=>P(t.$,e))).map((([t,e])=>t[e]))),D:t,M:e}})(n,t):((t,e)=>{const n=t.split(".");return{j:C,R:t=>{{const[e,o]=P(t.$,n);return e[o]}},N:[n],D:t,M:e}})(n,t)},{g:$,I:j,A:N,P:R,k:D,V:M,C:O,U:T,S:G}=S,L=(t,e,n)=>{const o=t.textContent||"";if(!o.trim())return void e.push((()=>t.remove()));const s=((t,e)=>{const n=[];let o=!1,s="",r=-1;const c=t=>{s="",o=t};for(;++r<t.length;){const e=t[r],i=t[r+1];if("!"===e&&"["===i)s+="[",r+=1;else if("["===e)s&&n.push(s),c(!0);else if(o&&"]"===e){const t=I(s,!0);n.push(t),c(!1)}else s+=e}return s&&n.push(s),n})(o),r=[];s.forEach((t=>{let e;if("string"==typeof t)e=document.createTextNode(t);else{const n=`[${t.D}]`;e=document.createTextNode(n),e.O={T:t}}r.push(e)})),e.push((()=>{r.forEach((e=>t.before(e))),t.remove()}))},{m:E,v:H}=c,{m:q,v:F,h:K}=c,{u:z,p:B}=r,J=[q,F,K,z,B],{_:Q,i:W,l:X}=s,Y=(t,e,n,c)=>{t.O={G:!0,L:e,H:[]};const i=u(t,r.u);if(i)((t,e,n)=>{const[o,s,r]=e.replace(/\(|\)|,|(\sin\s)/g," ").split(/\s+/).filter((t=>t)),c=U(r),i=u(t,B);t.O.q={F:I(c?r:s,!0),K:o,B:c?s:void 0,p:I(i)},t.O.J=v(t),J.forEach((e=>p(t,e)))})(t,i);else{const e=Z(t);if(e){const[n,r]=e;((t,e,n)=>{t.O={...t.O,W:e,J:v(t)},e!==s._&&(t.O.X=I(n)),[E,H,e].forEach((e=>p(t,e)))})(t,n,r),n===W&&c.push((()=>(t=>{const e=[];let n=t.nextElementSibling;const r=o("if");for(t.before(r);;){const t=n&&n.O&&n.O.W;if(!t||t===s.i)break;e.push(n),n=n.nextElementSibling}(e[e.length-1]||t).after(o("/if")),e.forEach((t=>t.remove()));let c=[...t.O.X.N];e.forEach((t=>{if(t.O.W!==s._){const e=t.O.X.N;c=[...c,...e]}})),t.O={...t.O,Y:e,Z:c,tt:r}})(t)))}}},Z=t=>{const e=[Q,W,X];for(const n of e){const e=u(t,n);if(null!==e)return[n,e]}return!1},tt=(t,e,n)=>{const o=e.et[t.nodeName];e.L;if(t.nodeType===t.TEXT_NODE)return L(t,n);o&&Y(t,o,0,n),t.hasAttribute&&((t,e)=>{const n=[],o=!!e;for(const e of t.getAttributeNames()){const r=t.getAttribute(e),c="["===(s=r)[0]&&s.endsWith("]");let _,a=e,l=$;const f=e[0];if(e===i)l=j,_=r;else if(e.startsWith("fn.")){if(!o)continue;l=M,a=e.slice(3),_=r}else if(e.startsWith("$.")){if(!o)continue;a=e.slice(2),c?(l=O,_=I(r)):(l=T,_=r)}else"@"===f?(l=G,a=e.slice(1),_=r):c&&(e.endsWith(":if")?(l=R,a=e.slice(0,-3)):e.startsWith("bind:")?(l=N,a=e.slice(5)):":"===f&&(l=D,a=e.slice(1)),_=I(r));if(_){let o=a;a.includes("-")&&(o=g(a)),n.push({nt:o,T:_,j:l}),p(t,e)}}var s;n.length&&(t.O||(t.O={}),t.O.H=n)})(t,o),t.hasChildNodes()&&t.childNodes.forEach((t=>tt(t,e,n)))},et=t=>t.reduce(((t,e,n)=>(t[e]=n,t)),{}),nt=(t,e,n)=>{t.splice(e,0,n)},ot=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},st=t=>{t.forEach((t=>t())),t.length=0},rt=t=>{const{components:n,html:o,css:s,ot:r}=t,c=n?((t,e)=>e.reduce(((t,e)=>t.replace(new RegExp(`<${e.name}|</${e.name}`,"g"),x)),t))(o,n):o;r.innerHTML=c+ct(e.o.defaultCSS,"default")+ct(s,"scoped");const i=[];tt(r.content,t,i),st(i)},ct=(t,e)=>t?`<style ${e}>${t}</style>`:"",it=()=>({[f]:new Set}),_t={st:!1,rt:!1,ct:!1},at=(t,e,n,o,s)=>{const r=((t,e)=>{if(0===e.length)return t;let n,o;[n,o]=P(t.$,e),n[l]||([n,o]=P(t.$,e.slice(0,-1))),_t.ct=!0;const s=n[o];return _t.ct=!1,s})(e,t);s&&r!==e&&e.it.add(s);const c=((t,e)=>()=>e.add(t))(n,r._t[o]);let i=r.at;const _=t.length-1;return t.forEach(((t,e)=>{i[t]||(i[t]=it()),i=i[t],e===_&&i[f].add(c)})),()=>i[f].delete(c)},lt=(t,...e)=>{const n=t.map((t=>at(t,...e)));return()=>n.forEach((t=>t()))},ft=(t,e)=>{t.refs={},t.L=e,t.at=it(),t._t=[new Set,new Set],t.lt=[],t.ft=[],t.ut=new Set,t.it=new Set,t.dt||(t.dt={}),t.fn||(t.fn=t.parent?Object.create(t.parent.fn):{}),(t=>{t.yt={bt:[],vt:[],ht:[],gt:[]};const{bt:e,vt:n,ht:o,gt:s}=t.yt;t.events={onMount:t=>e.push(t),onDestroy:t=>n.push(t),beforeUpdate:t=>o.push(t),afterUpdate:t=>s.push(t),onMutate:(n,o)=>{e.push((()=>{const e=o.map((t=>t.split(".")));return lt(e,t,n,k)}))}}})(t)},ut=t=>{t.xt=!0,t.St=t.Ct.map((t=>t()))},pt=(t,e)=>{t.Ct||(t.Ct=[]),t.Ct.push(e)},dt=(t,e,n,o)=>{const s=()=>{t.xt&&n()};pt(t,(()=>(s(),lt(e,o,s,A,t))))},mt=(t,e,n)=>{const o=e.nt,{R:s,N:r}=e.T;if(dt(t,r,(()=>{t[o]=s(n)}),n),e.j===S.A){const e="number"===t.type||"range"===t.type,s=()=>{let s=t[o];s=e?Number(s):s,((t,e,n)=>{const[o,s]=P(t,e);Reflect.set(o,s,n)})(n.$,r[0],s)};t.addEventListener("input",s)}},{S:yt,k:bt,g:vt,P:ht,V:gt,C:xt,U:St,I:Ct,A:wt}=S,kt={[yt]:(t,e,n)=>{const o=e.T,s=e.nt,r=n.fn[o],c=t=>r(t,n.$);pt(t,(()=>(t.addEventListener(s,c),()=>t.removeEventListener(s,c))))},[bt]:mt,[wt]:mt,[vt]:(t,e,n)=>{const{T:o,nt:s}=e,{R:r,N:c}=o;dt(t,c,(()=>d(t,s,r(n))),n)},[ht]:(t,e,n)=>{const o=e.T,s=e.nt;dt(t,o.N,(()=>o.R(n)?d(n,s,""):p(t,s)),n)},[gt]:(t,e,n)=>{t.fn||(t.fn=Object.create(t.parent.fn)),t.fn[e.nt]=n.fn[e.T]},[xt]:(t,e,n)=>{const{T:o,nt:s}=e,{R:r,N:c}=o,i=()=>{t.$[s]=r(n)};t.wt?i():(t.dt||(t.dt={}),t.dt[s]=r(n)),lt(c,n,i,k)},[St]:(t,e)=>{(t.wt?t.$:t.dt)[e.nt]=e.T},[Ct]:(t,e,n)=>{const o=e.T;n.refs[o]=t}},At=(t,e,n)=>{e.forEach((e=>{const o=e.j,s=kt[o];s&&s(t,e,n)}))},Pt=(t,e)=>{t.O&&(e.O=t.O),t.hasChildNodes()&&t.childNodes.forEach(((t,n)=>{Pt(t,e.childNodes[n])}))},Ut=t=>{const e=t.cloneNode(!0);return Pt(t,e),e},Vt=(t,e,n=!1,o)=>{t.style.animation=e,n&&It(t,(()=>{t.style.animation="",o&&o()}))},It=(t,e)=>{t.addEventListener("animationend",e,{once:!0})},$t=(t,e)=>{const n=t.O,o=[t];n.Y&&n.Y.forEach((t=>{o.push(Ut(t))})),t.kt=!0;const{Z:s}=n,r=t.previousSibling;let c,i;const _=()=>{let t=!1;o.forEach((n=>{const{kt:o,isConnected:s}=n,{X:_,J:a}=n.O,{m:l,v:f}=a,u=!_||_.R(e);if(!t&&u){if(t=!0,!s){o||(Tt(n,e),n.kt=!0);const t=()=>{r.after(n),l&&i&&Vt(n,l,!0)};c&&c.O.J.v&&n!==c?It(c,t):t(),c=n}}else s&&(f?(d=f,(p=n).disconnectedCallback(),p.At=!0,Vt(p,d,!0,(()=>p.remove()))):n.remove());var p,d}))};lt(s,e,_,k),e.ft.push((()=>{t.remove(),_(),i=!0}))},jt=t=>({Pt:t.offsetLeft,Ut:t.offsetTop}),Nt=(t,e)=>{const[n,o]=t,{Vt:s,It:r,$t:c,jt:i}=e,_=((t,e,n)=>{const{Nt:o,Rt:s,Dt:r}=t,c=Ut(o);return c.wt=!0,c.parent=s,c.dt=r(e,n),c})(e,o,n);0===n?r.after(_):s[n-1].after(_),s.splice(n,0,_),c.m&&i&&Vt(_,c.m,!0)},Rt=(t,e)=>{const[o,s]=t;((t,e)=>{t.Mt=!0,e.Mt=!0;const o=t.parentNode,s=e.parentNode,r=n("div"),c=n("div");o.replaceChild(r,t),s.replaceChild(c,e),o.replaceChild(e,r),s.replaceChild(t,c),t.Mt=!1,e.Mt=!1})(e[o],e[s]),ot(e,o,s)},Dt=(t,e,n)=>{const o=jt(t),s=e.Pt-o.Pt,r=e.Ut-o.Ut;requestAnimationFrame((()=>{t.style.transform=`translate(${s}px, ${r}px)`,t.style.transition="",requestAnimationFrame((()=>{t.style.transform="",t.style.transition=`transform ${n}`}))}))},Mt=(t,e,n,o)=>{const{Vt:s,jt:r,$t:c,q:i}=t,{h:_,v:a}=c,{K:l,B:f}=i,u=Object.keys(n),p=()=>{u.length&&u.forEach((t=>{const e=Number(t),o=s[e];o&&n[e].forEach((t=>{const[e,n]=P(o.$[l],t.Ot);e[n]=t.Tt}))}))};e.length?(()=>{const n=(t=>{const{Rt:e,Gt:n,Lt:o}=t,s=o();return{Et:s,Ht:n(),qt:et(s)}})(t),c=((t,e,n)=>{const o={Ft:[],Kt:[],zt:[]};for(const s of n)for(;;){const n=t.Et[s];if(!U(n))break;if(n in e.qt)break;o.Ft.push(s),t.Et.splice(s,1),t.Ht.splice(s,1)}for(const s of n){const n=e.Et[s];U(n)&&(n in t.qt||(o.Kt.push([s,e.Ht[s]]),nt(t.Et,s,n),nt(t.Ht,s,e.Ht[s])))}for(const s of n){const n=t.Et[s];if(n!==e.Et[s]){const r=e.qt[n];o.zt.push([s,r]),ot(t.Et,s,r),ot(t.Ht,s,r)}}return t.qt=et(t.Et),o})(o,n,e);_&&r&&((t,e)=>{for(const n of t){const t=e[n];t&&(t.Bt=jt(t))}})(e,s);const i=()=>{((t,e)=>{const{Ft:n,Kt:o,zt:s}=t,{Vt:r}=e;n.forEach((t=>{return(n=r)[e=t].remove(),void n.splice(e,1);var e,n})),o.forEach((t=>Nt(t,e))),s.forEach((t=>Rt(t,r)))})(c,t),r&&(f&&e.forEach((t=>{s[t]&&(s[t].$[f]=t)})),p()),_&&r&&((t,e,n)=>{for(const o of e){const e=t[o];e&&e.Bt&&Dt(e,e.Bt,n)}})(s,e,_)};if(a&&c.Ft.length){((t,e,n)=>{const o=t.length-1;t.forEach(((t,s)=>{Vt(t,e,!0,(()=>{s===o&&n()}))}))})(c.Ft.map(((t,e)=>s[t+e])),a,i)}else i();o.Ht=[...n.Ht],o.Et=n.Et,o.qt=n.qt})():p()},Ot=(t,e)=>{const n=t.O,s=n.q,{F:r,B:c,K:i,p:_}=s,a=r.N[0],l=a.join("."),f=o("loop/"),u={Ht:[],Et:[],qt:{}},p=(t,e)=>{const n={[i]:t};return c&&(n[c]=e),n},d=()=>r.R(e),m=(e,n)=>{const o={$:p(e,n),L:t.L};return _.R(o)},y={Vt:[],It:f,Nt:t,Gt:d,Dt:p,Lt:()=>d().map(m),Rt:e,jt:!1,q:s,$t:n.J},b=()=>{const t=d().length;Mt(y,(t=>{const e=[];for(let n=0;n<t;n++)e.push(n);return e})(t),{},u)};e.ft.push((()=>{t.before(f),t.before(o("/loop")),t.remove(),b(),y.jt=!0}));at(a,e,(t=>{if(t.some((t=>{return e=t.path,n=a,e.length===n.length&&e.every(((t,e)=>t===n[e]));var e,n})))b();else{const[e,n]=((t,e,n)=>{const o=new Set,s={},r=n.length;return t.forEach((t=>{const{newValue:n,oldValue:c,livePath:i}=t,_=i();if(_.join(".").startsWith(e)){const t=_[r];if(_.length===r+1)if("length"===t)for(let t=n;t<c;t++)o.add(t);else o.add(Number(t));else{const e={Ot:_.slice(r+1),Tt:n};t in s?s[t].push(e):s[t]=[e]}}})),[[...o].sort(((t,e)=>t-e)),s]})(t,l,a);Mt(y,e,n,u)}}),A)},Tt=(t,e)=>{const{O:n,nodeType:o}=t;if(n){if(t.Ct=[],e.ut.add(t),n.G){if(t.parent=e,t.dt={},n.q)return Ot(t,e);n.W===s.i&&$t(t,e)}else if(o===t.TEXT_NODE)return((t,e)=>{const n=t.O,{R:o,N:s}=n.T;dt(t,s,(()=>{t.textContent=o(e)}),e)})(t,e);n.H&&At(t,n.H,e)}(t=>t.O&&t.O.G)(t)||t.hasChildNodes()&&t.childNodes.forEach((t=>Tt(t,e)))},Gt=t=>{t[f].forEach((t=>t()));for(const e in t)Gt(t[e])},Lt=(t,e)=>{((t,e)=>{let n=t;for(let t=0;t<e.length-1&&n;t++)n[f].forEach((t=>t())),n=n[e[t]];n&&Gt(n)})(t.at,e),t.Jt||(t=>{t.Jt=!0,setTimeout((()=>{(t=>{const{ht:e,gt:n}=t.yt,{lt:o,_t:s}=t;e.forEach((t=>t(o))),s.forEach((t=>((t,e)=>{t.forEach((t=>t(e))),t.clear()})(t,o))),n.forEach((t=>t(o)))})(t),t.lt=[],t.Jt=!1}),0)})(t)},Et={Qt:[]},Ht=(t,e,n)=>{const[o,s]=(t=>{_t.st=!0;const e=t();_t.st=!1;const n=[...Et.Qt];return Et.Qt=[],[e,n]})(t),r=s.map((t=>1===t.length?t:t.slice(0,-1)));return lt(r,n,(()=>{n.$[e]=t()}),k),o},qt=(t,e,n=[])=>{if(!V(e))return e;const o=t.parent&&t.parent.$;let s=n;const r=Array.isArray(e)?[]:{};return Object.keys(e).forEach((n=>{r[n]=qt(t,e[n],[...s,n])})),new Proxy(r,{has:(t,e)=>e in t||!!o&&e in o,set(e,n,r){const c=e[n];if(c===r)return!0;if(n===a)return s=[...s.slice(0,-1),r],!0;const i=n in e;let _=r;if(_t.rt){if(i)return!0;"function"==typeof _&&(_=Ht(_,n,t))}else if(!i&&o&&n in o)return Reflect.set(o,n,_);if(V(_)&&(_[l]?Array.isArray(e)&&(_[a]=n):_=qt(t,_,[...s,n])),c!==_){const e=()=>[...s,n],o=e();t.lt.push({oldValue:c,newValue:_,path:o,livePath:e}),Lt(t,o)}return Reflect.set(e,n,_)},deleteProperty:(e,n)=>(Lt(t,[...s,n]),Reflect.deleteProperty(e,n)),get(e,n){if(n===l)return!0;if(n===_)return e;if(_t.st){const t=[...s,n];0!==s.length?Et.Qt[Et.Qt.length-1]=t:Et.Qt.push(t)}return n in e?_t.ct?t:Reflect.get(e,n):o?Reflect.get(o,n):void 0}})};function Ft(t,e){t.$=qt(t,t.dt||{}),e.js&&((t,e)=>{_t.rt=!0,t(e),_t.rt=!1})(e.js,t),t.wt&&At(t,t.O.H,t),t.childNodes.forEach((e=>Tt(e,t))),((t,e)=>{const n=Ut(e.content);Tt(n,t),st(t.ft),t.attachShadow({mode:"open"}).append(n)})(t,e.ot),t.Ct&&ut(t)}const Kt=t=>{t.xt=!1,t.St.forEach((t=>t()))},zt=t=>{const{t:o}=e,s=t.name;if(s in o)return;const r=(t=>{const e=new t,o=t.name;return e.Wt=t,e.L=o,e.Xt=x(o),e.ot=n("template"),e.et=e.components?e.components.reduce(((t,e)=>{const{name:n}=e;var o;return t[(o=n,(t=>t.toUpperCase())(o)+"-")]=n,t}),{}):{},e})(t);o[s]=r,rt(r);class c extends HTMLElement{constructor(){super(),ft(this,s)}connectedCallback(){((t,e)=>{if(t.Mt)return;t.At=!1;const{ut:n,it:o,yt:s,shadowRoot:r}=t;r?o.forEach(ut):(Ft(t,e),n.forEach(ut)),s.bt.forEach((t=>t()))})(this,r)}disconnectedCallback(){(t=>{const{yt:e,it:n,At:o,Mt:s}=t;o||s||(n.forEach(Kt),e.vt.forEach((t=>t())))})(this)}}const{Xt:i,components:_}=r;customElements.define(i,c),_&&_.forEach(zt)};t.render=(t,o)=>{o&&(e.o={...e.o,...o}),zt(t);const s=t.name,r=document.querySelector(s),c=n(x(s));return r.replaceWith(c),c},Object.defineProperty(t,"Yt",{value:!0})}));
