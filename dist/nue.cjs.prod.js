"use strict";Object.defineProperty(exports,"t",{value:!0});const t={o:{},_:{defaultCSS:""}},e=t=>document.createElement(t),n=t=>document.createComment(t),o={i:"*if",l:"*else",u:"*else-if"},s={p:"*for",m:"*key"},r={v:"*enter",h:"*exit",g:"*move"},c="*ref",_=Symbol(),i=Symbol(),a=Symbol(),l=Symbol(),f=(t,e)=>t.getAttribute(e),u=(t,e)=>t.removeAttribute(e),p=(t,e,n)=>t.setAttribute(e,n),{v:d,h:m,g:b}=r,y=t=>({v:f(t,d),h:f(t,m),g:f(t,b)}),v=document.createElement("div"),h=t=>{const e="data-"+t;p(v,e,"");const n=Object.keys(v.dataset)[0];return u(v,e),n},g=t=>(t=>t.toLowerCase())(t)+"-",S={S:0,C:1,k:2,A:3,P:4,U:5,I:6,V:7,R:8},C=0,x=1,w=0,k=1,A=(t,e)=>[e.slice(0,-1).reduce(((t,e)=>t[e]),t),e[e.length-1]],P=t=>void 0!==t,U=t=>"object"==typeof t&&null!==t,I=(t,e=!1)=>{const n=(e?t:t.slice(1,-1)).replace(/ /g,"");return n.includes("(")&&n.includes(")")?((t,e)=>{const n=t.slice(0,-1),[o,s]=n.split("("),r=s.split(",").map((t=>t.split(".")));return{j:x,O:r,D:t=>(0,t.fn[o])(...r.map((e=>A(t.$,e))).map((([t,e])=>t[e]))),M:t,N:e}})(n,t):((t,e)=>{const n=t.split(".");return{j:C,D:t=>{{const[e,o]=A(t.$,n);return e[o]}},O:[n],M:t,N:e}})(n,t)},{S:V,R:$,P:R,U:j,A:O,V:D,k:M,I:N,C:G}=S,T=(t,e,n)=>{const o=t.textContent||"";if(!o.trim())return void e.push((()=>t.remove()));const s=((t,e)=>{const n=[];let o=!1,s="",r=-1;const c=t=>{s="",o=t};for(;++r<t.length;){const e=t[r],_=t[r+1];if("!"===e&&"["===_)s+="[",r+=1;else if("["===e)s&&n.push(s),c(!0);else if(o&&"]"===e){const t=I(s,!0);n.push(t),c(!1)}else s+=e}return s&&n.push(s),n})(o),r=[];s.forEach((t=>{let e;if("string"==typeof t)e=document.createTextNode(t);else{const n=`[${t.M}]`;e=document.createTextNode(n),e.G={T:t}}r.push(e)})),e.push((()=>{r.forEach((e=>t.before(e))),t.remove()}))},{v:E,h:H}=r,{v:q,h:F,g:K}=r,{p:L,m:z}=s,B=[q,F,K,L,z],{l:J,i:Q,u:W}=o,X=(t,e,r,c)=>{t.G={H:!0,q:e,F:[]};const _=f(t,s.p);if(_)((t,e,n)=>{const[o,s,r]=e.replace(/\(|\)|,|(\sin\s)/g," ").split(/\s+/).filter((t=>t)),c=P(r),_=f(t,z);t.G.K={L:I(c?r:s,!0),B:o,J:c?s:void 0,m:I(_)},t.G.W=y(t),B.forEach((e=>u(t,e)))})(t,_);else{const e=Y(t);if(e){const[s,r]=e;((t,e,n)=>{t.G={...t.G,X:e,W:y(t)},e!==o.l&&(t.G.Y=I(n)),[E,H,e].forEach((e=>u(t,e)))})(t,s,r),s===Q&&c.push((()=>(t=>{const e=[];let s=t.nextElementSibling;const r=n("if");for(t.before(r);;){const t=s&&s.G&&s.G.X;if(!t||t===o.i)break;e.push(s),s=s.nextElementSibling}(e[e.length-1]||t).after(n("/if")),e.forEach((t=>t.remove()));let c=[...t.G.Y.O];e.forEach((t=>{if(t.G.X!==o.l){const e=t.G.Y.O;c=[...c,...e]}})),t.G={...t.G,Z:e,tt:c,et:r}})(t)))}}},Y=t=>{const e=[J,Q,W];for(const n of e){const e=f(t,n);if(null!==e)return[n,e]}return!1},Z=(t,e,n)=>{const o=e.nt[t.nodeName];e.q;if(t.nodeType===t.TEXT_NODE)return T(t,n);o&&X(t,o,0,n),t.hasAttribute&&((t,e)=>{const n=[],o=!!e;for(const e of t.getAttributeNames()){const r=t.getAttribute(e),_="["===(s=r)[0]&&s.endsWith("]");let i,a=e,l=V;const f=e[0];if(e===c)l=$,i=r;else if(e.startsWith("fn.")){if(!o)continue;l=D,a=e.slice(3),i=r}else if(e.startsWith("$.")){if(!o)continue;a=e.slice(2),_?(l=M,i=I(r)):(l=N,i=r)}else"@"===f?(l=G,a=e.slice(1),i=r):_&&(e.endsWith(":if")?(l=j,a=e.slice(0,-3)):e.startsWith("bind:")?(l=R,a=e.slice(5)):":"===f&&(l=O,a=e.slice(1)),i=I(r));if(i){let o=a;a.includes("-")&&(o=h(a)),n.push({ot:o,T:i,j:l}),u(t,e)}}var s;n.length&&(t.G||(t.G={}),t.G.F=n)})(t,o),t.hasChildNodes()&&t.childNodes.forEach((t=>Z(t,e,n)))},tt=t=>t.reduce(((t,e,n)=>(t[e]=n,t)),{}),et=(t,e,n)=>{t.splice(e,0,n)},nt=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},ot=t=>{t.forEach((t=>t())),t.length=0},st=e=>{const{components:n,html:o,css:s,st:r}=e,c=n?((t,e)=>e.reduce(((t,e)=>t.replace(new RegExp(`<${e.name}|</${e.name}`,"g"),g)),t))(o,n):o,{defaultCSS:_}=t._,i=_?rt(_,"default"):"",a=s?rt(s,"scoped"):"";r.innerHTML=c+i+a;const l=[];Z(r.content,e,l),ot(l)},rt=(t,e)=>`<style ${e}>${t}</style>`,ct={rt:!1,ct:!1,_t:!1,it:!1},_t=(t,e,n,o)=>{const s=((t,e)=>{if(0===e.length)return t;let n,o;[n,o]=A(t.$,e),n[a]||([n,o]=A(t.$,e.slice(0,-1))),ct.it=!0;const s=n[o];return ct.it=!1,s})(t,e);n.at&&s!==t&&t.lt.add(n.at);const r=((t,e)=>()=>e.add(t))(n,s.ft[o]);let c=s.ut;const _=e.length-1;return e.forEach(((t,e)=>{c[t]||(c[t]={[l]:new Set}),c=c[t],e===_&&c[l].add(r)})),()=>c[l].delete(r)},it=(t,e,n,o)=>{const s=e.map((e=>_t(t,e,n,o)));return()=>s.forEach((t=>t()))},at=(t,e)=>{t.refs={},t.q=e,t.ut={[l]:new Set},t.ft=[new Set,new Set],t.dt=[],t.bt=[],t.yt=new Set,t.lt=new Set,t.vt||(t.vt={}),t.fn||(t.fn=t.parent?Object.create(t.parent.fn):{}),(t=>{t.ht={gt:[],St:[],Ct:[],xt:[]};const{gt:e,St:n,Ct:o,xt:s}=t.ht;t.events={onMount:t=>e.push(t),onDestroy:t=>n.push(t),beforeUpdate:t=>o.push(t),afterUpdate:t=>s.push(t),onMutate:(n,o)=>{e.push((()=>{const e=o.map((t=>t.split(".")));return it(t,e,n,0)}))}}})(t)},lt=t=>{t.wt&&(t.kt=t.wt.map((t=>t())),t.At=!0)},ft=t=>{t.kt&&(t.kt.forEach((t=>t())),t.At=!1)},ut=(t,e)=>{t.wt||(t.wt=[]),t.wt.push(e)},pt=(t,e,n,o)=>{o.at=e;ut(e,(()=>(o(),it(t,n,o,k))))},dt=(t,e,n)=>{const o=e.ot,{D:s,O:r}=e.T;if(pt(n,t,r,(()=>{t[o]=s(n)})),e.j===S.P){const e="number"===t.type||"range"===t.type,s=()=>{let s=t[o];s=e?Number(s):s,((t,e,n)=>{const[o,s]=A(t,e);Reflect.set(o,s,n)})(n.$,r[0],s)};t.addEventListener("input",s)}},{C:mt,A:bt,S:yt,U:vt,V:ht,k:gt,I:St,R:Ct,P:xt}=S,wt={[mt]:(t,e,n)=>{const o=e.T,s=e.ot,r=n.fn[o],c=t=>r(t,n.$);ut(t,(()=>(t.addEventListener(s,c),()=>t.removeEventListener(s,c))))},[bt]:dt,[xt]:dt,[yt]:(t,e,n)=>{const o=e.T;pt(n,t,o.O,(()=>p(t,e.ot,o.D(n))))},[vt]:(t,e,n)=>{const o=e.T,s=e.ot;pt(n,t,o.O,(()=>o.D(n)?p(n,s,""):u(t,s)))},[ht]:(t,e,n)=>{t.fn||(t.fn=Object.create(t.parent.fn)),t.fn[e.ot]=n.fn[e.T]},[gt]:(t,e,n)=>{const{T:o,ot:s}=e,{D:r,O:c}=o,_=()=>{t.$[s]=r(n)};t.Pt?_():(t.vt||(t.vt={}),t.vt[s]=r(n)),it(n,c,_,w)},[St]:(t,e)=>{(t.Pt?t.$:t.vt)[e.ot]=e.T},[Ct]:(t,e,n)=>{const o=e.T;n.refs[o]=t}},kt=(t,e,n)=>{e.forEach((e=>{const o=e.j,s=wt[o];s&&s(t,e,n)}))},At=(t,e)=>{t.G&&(e.G=t.G),t.hasChildNodes()&&t.childNodes.forEach(((t,n)=>{At(t,e.childNodes[n])}))},Pt=t=>{const e=t.cloneNode(!0);return At(t,e),e},Ut=(t,e,n=!1,o)=>{t.style.animation=e,n&&It(t,(()=>{t.style.animation="",o&&o()}))},It=(t,e)=>{t.addEventListener("animationend",e,{once:!0})},Vt=(t,e)=>{const n=t.G,o=[t];n.Z&&n.Z.forEach((t=>{o.push(Pt(t))})),t.Ut=!0;const{tt:s}=n,r=t.previousSibling;let c,_;const i=()=>{let t=!1;o.forEach((n=>{const{Ut:o,isConnected:s}=n,{Y:i,W:a}=n.G,{v:l,h:f}=a,u=!i||i.D(e);if(!t&&u){if(t=!0,!s){o||(Nt(n,e),n.Ut=!0);const t=()=>{r.after(n),l&&_&&Ut(n,l,!0)};c&&c.G.W.h&&n!==c?It(c,t):t(),c=n}}else s&&(f?(d=f,(p=n).disconnectedCallback(),p.It=!0,Ut(p,d,!0,(()=>p.remove()))):n.remove());var p,d}))};it(e,s,i,w),e.bt.push((()=>{t.remove(),i(),_=!0}))},$t=t=>({Vt:t.offsetLeft,$t:t.offsetTop}),Rt=(t,e)=>{const[n,o]=t,{Rt:s,jt:r,Ot:c,Dt:_}=e,i=((t,e,n)=>{const{Mt:o,Nt:s,Gt:r}=t,c=Pt(o);return c.Pt=!0,c.parent=s,c.vt=r(e,n),c})(e,o,n);0===n?r.after(i):s[n-1].after(i),s.splice(n,0,i),c.v&&_&&Ut(i,c.v,!0)},jt=(t,n)=>{const[o,s]=t;((t,n)=>{t.Tt=!0,n.Tt=!0;const o=t.parentNode,s=n.parentNode,r=e("div"),c=e("div");o.replaceChild(r,t),s.replaceChild(c,n),o.replaceChild(n,r),s.replaceChild(t,c),t.Tt=!1,n.Tt=!1})(n[o],n[s]),nt(n,o,s)},Ot=(t,e,n)=>{const o=$t(t),s=e.Vt-o.Vt,r=e.$t-o.$t;requestAnimationFrame((()=>{t.style.transform=`translate(${s}px, ${r}px)`,t.style.transition="",requestAnimationFrame((()=>{t.style.transform="",t.style.transition=`transform ${n}`}))}))},Dt=(t,e,n,o)=>{const{Rt:s,Dt:r,Ot:c,K:_}=t,{g:i,h:a}=c,{B:l,J:f}=_,u=Object.keys(n),p=()=>{u.length&&u.forEach((t=>{const e=Number(t),o=s[e];o&&n[e].forEach((t=>{const[e,n]=A(o.$[l],t.Et);e[n]=t.Ht}))}))};e.length?(()=>{const n=(t=>{const{Nt:e,qt:n,Ft:o}=t,s=o();return{Kt:s,Lt:n(),zt:tt(s)}})(t),c=((t,e,n)=>{const o={Bt:[],Jt:[],Qt:[]};for(const s of n)for(;;){const n=t.Kt[s];if(!P(n))break;if(n in e.zt)break;o.Bt.push(s),t.Kt.splice(s,1),t.Lt.splice(s,1)}for(const s of n){const n=e.Kt[s];P(n)&&(n in t.zt||(o.Jt.push([s,e.Lt[s]]),et(t.Kt,s,n),et(t.Lt,s,e.Lt[s])))}for(const s of n){const n=t.Kt[s];if(n!==e.Kt[s]){const r=e.zt[n];o.Qt.push([s,r]),nt(t.Kt,s,r),nt(t.Lt,s,r)}}return t.zt=tt(t.Kt),o})(o,n,e);i&&r&&((t,e)=>{for(const n of t){const t=e[n];t&&(t.Wt=$t(t))}})(e,s);const _=()=>{((t,e)=>{const{Bt:n,Jt:o,Qt:s}=t,{Rt:r}=e;n.forEach((t=>{return(n=r)[e=t].remove(),void n.splice(e,1);var e,n})),o.forEach((t=>Rt(t,e))),s.forEach((t=>jt(t,r)))})(c,t),r&&(f&&e.forEach((t=>{s[t]&&(s[t].$[f]=t)})),p()),i&&r&&((t,e,n)=>{for(const o of e){const e=t[o];e&&e.Wt&&Ot(e,e.Wt,n)}})(s,e,i)};if(a&&c.Bt.length){((t,e,n)=>{const o=t.length-1;t.forEach(((t,s)=>{Ut(t,e,!0,(()=>{s===o&&n()}))}))})(c.Bt.map(((t,e)=>s[t+e])),a,_)}else _();o.Lt=[...n.Lt],o.Kt=n.Kt,o.zt=n.zt})():p()},Mt=(t,e)=>{const o=t.G,s=o.K,{L:r,J:c,B:_,m:i}=s,a=r.O[0],l=a.join("."),f=n("loop/"),u={Lt:[],Kt:[],zt:{}},p=(t,e)=>{const n={[_]:t};return c&&(n[c]=e),n},d=()=>r.D(e),m=(e,n)=>{const o={$:p(e,n),q:t.q};return i.D(o)},b={Rt:[],jt:f,Mt:t,qt:d,Gt:p,Ft:()=>d().map(m),Nt:e,Dt:!1,K:s,Ot:o.W},y=()=>{const t=d().length;Dt(b,(t=>{const e=[];for(let n=0;n<t;n++)e.push(n);return e})(t),{},u)};e.bt.push((()=>{t.before(f),t.before(n("/loop")),t.remove(),y(),b.Dt=!0}));_t(e,a,(t=>{if(t.some((t=>{return e=t.path,n=a,e.length===n.length&&e.every(((t,e)=>t===n[e]));var e,n})))y();else{const[e,n]=((t,e,n)=>{const o=new Set,s={},r=n.length;return t.forEach((t=>{const{newValue:n,oldValue:c,livePath:_}=t,i=_();if(i.join(".").startsWith(e)){const t=i[r];if(i.length===r+1)if("length"===t)for(let t=n;t<c;t++)o.add(t);else o.add(Number(t));else{const e={Et:i.slice(r+1),Ht:n};t in s?s[t].push(e):s[t]=[e]}}})),[[...o].sort(((t,e)=>t-e)),s]})(t,l,a);Dt(b,e,n,u)}}),k)},Nt=(t,e)=>{const{G:n,nodeType:s}=t;if(n){if(e.yt.add(t),n.H){if(t.parent=e,t.vt={},n.K)return Mt(t,e);n.X===o.i&&Vt(t,e)}else if(s===t.TEXT_NODE)return((t,e)=>{const n=t.G,{D:o,O:s}=n.T;pt(e,t,s,(()=>{t.textContent=o(e)}))})(t,e);n.F&&kt(t,n.F,e)}(t=>t.G&&t.G.H)(t)||t.hasChildNodes()&&t.childNodes.forEach((t=>Nt(t,e)))},Gt=t=>{t[l].forEach((t=>t()));for(const e in t)Gt(t[e])},Tt=(t,e)=>{((t,e)=>{let n=t;const o=e.length-1;e.forEach(((t,e)=>{n[l].forEach((t=>t())),n=n[t],n&&e===o&&Gt(n)}))})(t.ut,e),t.Xt||(t=>{t.Xt=!0,setTimeout((()=>{(t=>{const{Ct:e,xt:n}=t.ht,{dt:o,ft:s}=t;e.forEach((t=>t(o))),s.forEach((t=>((t,e)=>{t.forEach((t=>{const{at:n}=t;(n&&n.At||!n)&&t(e)})),t.clear()})(t,o))),n.forEach((t=>t(o)))})(t),t.dt=[],t.Xt=!1}),0)})(t)},Et={Yt:[]},Ht=(t,e,n)=>{const[o,s]=(t=>{ct.rt=!0;const e=t();ct.rt=!1;const n=[...Et.Yt];return Et.Yt=[],[e,n]})(e),r=s.map((t=>1===t.length?t:t.slice(0,-1)));return it(t,r,(()=>{const o=e();t.$[n]=o}),w),o},qt=(t,e,n=[])=>{const o=t.parent&&t.parent.$;let s=n;if(!U(e))return e;const r=Array.isArray(e)?[]:{};Object.keys(e).forEach((n=>{r[n]=qt(t,e[n],[...s,n])}));return new Proxy(r,{has:(t,e)=>e in t||!!o&&e in o,set(e,n,r){if(e[n]===r)return!0;if(n===i)return s=[...s.slice(0,-1),r],!0;const c=n in e;let _=r;if(ct._t){if(c)return!0;"function"==typeof _&&(_=Ht(t,_,n))}else if(!c&&o&&n in o)return Reflect.set(o,n,r);U(_)&&(_[a]?Array.isArray(e)&&(_[i]=n):_=qt(t,_,[...s,n]));const l=()=>Reflect.set(e,n,_);if(ct.ct){const o=e[n],r=_,c=l();if(o!==r){const e=()=>[...s,n],c=e();t.dt.push({oldValue:o,newValue:r,path:c,livePath:e}),Tt(t,c)}return c}return l()},deleteProperty:(e,n)=>(ct.ct&&Tt(t,[...s,n]),Reflect.deleteProperty(e,n)),get(e,n){if(n===a)return!0;if(n===_)return e;if(ct.rt){const t=[...s,n];0!==s.length?Et.Yt[Et.Yt.length-1]=t:Et.Yt.push(t)}return n in e?ct.it?t:Reflect.get(e,n):o?Reflect.get(o,n):void 0}})};function Ft(t,e){t.$=qt(t,t.vt||{},[]),e.js&&((t,e)=>{ct.ct=!1,ct._t=!0,t(e),ct.ct=!0,ct._t=!1})(e.js,t),t.Pt&&kt(t,t.G.F,t),t.childNodes.forEach((e=>Nt(e,t))),((t,e)=>{const n=Pt(e.content);Nt(n,t),ot(t.bt),t.attachShadow({mode:"open"}).append(n)})(t,e.st),lt(t)}const Kt=n=>{const{o:o}=t,s=n.name;if(s in o)return;const r=(t=>{const n=new t,o=t.name;return n.Zt=t,n.q=o,n.te=g(o),n.st=e("template"),n.nt=n.components?n.components.reduce(((t,e)=>{const{name:n}=e;var o;return t[(o=n,(t=>t.toUpperCase())(o)+"-")]=n,t}),{}):{},n})(n);o[s]=r,st(r);class c extends HTMLElement{constructor(){super(),at(this,s)}connectedCallback(){((t,e)=>{if(t.Tt)return;t.It=!1;const{yt:n,lt:o,ht:s,shadowRoot:r}=t;r?o.forEach(lt):(Ft(t,e),n.forEach(lt)),s.gt.forEach((t=>t()))})(this,r)}disconnectedCallback(){(t=>{const{ht:e,lt:n,It:o,Tt:s}=t;o||s||(n.forEach(ft),e.St.forEach((t=>t())))})(this)}}const{te:_,components:i}=r;customElements.define(_,c),i&&i.forEach(Kt)};exports.render=(n,o)=>{o&&(t._={...t._,...o}),Kt(n);const s=n.name,r=document.querySelector(s),c=e(g(s));return r.replaceWith(c),c};
