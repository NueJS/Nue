"use strict";Object.defineProperty(exports,"t",{value:!0});const t={o:{},_:{defaultCSS:""}},e=t=>document.createElement(t),n=t=>document.createComment(t),o={i:"*if",l:"*else",u:"*else-if"},s={p:"*for",m:"*key"},r={v:"*enter",h:"*exit",g:"*move"},c="*ref",_=Symbol(),i=Symbol(),a=Symbol(),l=Symbol(),f=(t,e)=>t.getAttribute(e),u=(t,e)=>t.removeAttribute(e),p=(t,e,n)=>t.setAttribute(e,n),{v:d,h:m,g:b}=r,y=t=>({v:f(t,d),h:f(t,m),g:f(t,b)}),v=document.createElement("div"),h=t=>{const e="data-"+t;p(v,e,"");const n=Object.keys(v.dataset)[0];return u(v,e),n},g=t=>(t=>t.toLowerCase())(t)+"-",x={S:0,C:1,k:2,A:3,P:4,U:5,V:6,I:7,N:8},S=0,C=1,w=0,k=1,A=(t,e)=>[e.slice(0,-1).reduce(((t,e)=>t[e]),t),e[e.length-1]],P=t=>void 0!==t,U=t=>"object"==typeof t&&null!==t,V=(t,e=!1)=>{const n=(e?t:t.slice(1,-1)).replace(/ /g,"");return n.includes("(")&&n.includes(")")?((t,e)=>{const n=t.slice(0,-1),[o,s]=n.split("("),r=s.split(",").map((t=>t.split(".")));return{R:C,j:r,D:t=>(0,t.fn[o])(...r.map((e=>A(t.$,e))).map((([t,e])=>t[e]))),M:t,O:e}})(n,t):((t,e)=>{const n=t.split(".");return{R:S,D:t=>{{const[e,o]=A(t.$,n);return e[o]}},j:[n],M:t,O:e}})(n,t)},{S:I,N:$,P:N,U:R,A:j,I:D,k:M,V:O,C:G}=x,L=(t,e,n)=>{const o=t.textContent||"";if(!o.trim())return void e.push((()=>t.remove()));const s=((t,e)=>{const n=[];let o=!1,s="",r=-1;const c=t=>{s="",o=t};for(;++r<t.length;){const e=t[r],_=t[r+1];if("!"===e&&"["===_)s+="[",r+=1;else if("["===e)s&&n.push(s),c(!0);else if(o&&"]"===e){const t=V(s,!0);n.push(t),c(!1)}else s+=e}return s&&n.push(s),n})(o),r=[];s.forEach((t=>{let e;if("string"==typeof t)e=document.createTextNode(t);else{const n=`[${t.M}]`;e=document.createTextNode(n),e.G={L:t}}r.push(e)})),e.push((()=>{r.forEach((e=>t.before(e))),t.remove()}))},{v:T,h:E}=r,{v:H,h:q,g:F}=r,{p:K,m:z}=s,B=[H,q,F,K,z],{l:J,i:Q,u:W}=o,X=(t,e,r,c)=>{t.G={T:!0,H:e,q:[]};const _=f(t,s.p);if(_)((t,e,n)=>{const[o,s,r]=e.replace(/\(|\)|,|(\sin\s)/g," ").split(/\s+/).filter((t=>t)),c=P(r),_=f(t,z);t.G.F={K:V(c?r:s,!0),B:o,J:c?s:void 0,m:V(_)},t.G.W=y(t),B.forEach((e=>u(t,e)))})(t,_);else{const e=Y(t);if(e){const[s,r]=e;((t,e,n)=>{t.G={...t.G,X:e,W:y(t)},e!==o.l&&(t.G.Y=V(n)),[T,E,e].forEach((e=>u(t,e)))})(t,s,r),s===Q&&c.push((()=>(t=>{const e=[];let s=t.nextElementSibling;const r=n("if");for(t.before(r);;){const t=s&&s.G&&s.G.X;if(!t||t===o.i)break;e.push(s),s=s.nextElementSibling}(e[e.length-1]||t).after(n("/if")),e.forEach((t=>t.remove()));let c=[...t.G.Y.j];e.forEach((t=>{if(t.G.X!==o.l){const e=t.G.Y.j;c=[...c,...e]}})),t.G={...t.G,Z:e,tt:c,et:r}})(t)))}}},Y=t=>{const e=[J,Q,W];for(const n of e){const e=f(t,n);if(null!==e)return[n,e]}return!1},Z=(t,e,n)=>{const o=e.nt[t.nodeName];e.H;if(t.nodeType===t.TEXT_NODE)return L(t,n);o&&X(t,o,0,n),t.hasAttribute&&((t,e)=>{const n=[],o=!!e;for(const e of t.getAttributeNames()){const r=t.getAttribute(e),_="["===(s=r)[0]&&s.endsWith("]");let i,a=e,l=I;const f=e[0];if(e===c)l=$,i=r;else if(e.startsWith("fn.")){if(!o)continue;l=D,a=e.slice(3),i=r}else if(e.startsWith("$.")){if(!o)continue;a=e.slice(2),_?(l=M,i=V(r)):(l=O,i=r)}else"@"===f?(l=G,a=e.slice(1),i=r):_&&(e.endsWith(":if")?(l=R,a=e.slice(0,-3)):e.startsWith("bind:")?(l=N,a=e.slice(5)):":"===f&&(l=j,a=e.slice(1)),i=V(r));if(i){let o=a;a.includes("-")&&(o=h(a)),n.push({ot:o,L:i,R:l}),u(t,e)}}var s;n.length&&(t.G||(t.G={}),t.G.q=n)})(t,o),t.hasChildNodes()&&t.childNodes.forEach((t=>Z(t,e,n)))},tt=t=>t.reduce(((t,e,n)=>(t[e]=n,t)),{}),et=(t,e,n)=>{t.splice(e,0,n)},nt=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},ot=t=>{t.forEach((t=>t())),t.length=0},st=e=>{const{components:n,html:o,css:s,st:r}=e,c=n?((t,e)=>e.reduce(((t,e)=>t.replace(new RegExp(`<${e.name}|</${e.name}`,"g"),g)),t))(o,n):o;r.innerHTML=c+rt(t._.defaultCSS,"default")+rt(s,"scoped");const _=[];Z(r.content,e,_),ot(_)},rt=(t,e)=>t?`<style ${e}>${t}</style>`:"",ct=()=>({[l]:new Set}),_t={rt:!1,ct:!1,_t:!1},it=(t,e,n,o,s)=>{const r=((t,e)=>{if(0===e.length)return t;let n,o;[n,o]=A(t.$,e),n[a]||([n,o]=A(t.$,e.slice(0,-1))),_t._t=!0;const s=n[o];return _t._t=!1,s})(e,t);s&&r!==e&&e.it.add(s);const c=((t,e)=>()=>e.add(t))(n,r.at[o]);let _=r.lt;const i=t.length-1;return t.forEach(((t,e)=>{_[t]||(_[t]=ct()),_=_[t],e===i&&_[l].add(c)})),()=>_[l].delete(c)},at=(t,...e)=>{const n=t.map((t=>it(t,...e)));return()=>n.forEach((t=>t()))},lt=(t,e)=>{t.refs={},t.H=e,t.lt=ct(),t.at=[new Set,new Set],t.ft=[],t.ut=[],t.dt=new Set,t.it=new Set,t.bt||(t.bt={}),t.fn||(t.fn=t.parent?Object.create(t.parent.fn):{}),(t=>{t.yt={vt:[],ht:[],gt:[],xt:[]};const{vt:e,ht:n,gt:o,xt:s}=t.yt;t.events={onMount:t=>e.push(t),onDestroy:t=>n.push(t),beforeUpdate:t=>o.push(t),afterUpdate:t=>s.push(t),onMutate:(n,o)=>{e.push((()=>{const e=o.map((t=>t.split(".")));return at(e,t,n,w)}))}}})(t)},ft=t=>{t.St=!0,t.Ct=t.wt.map((t=>t()))},ut=(t,e)=>{t.wt||(t.wt=[]),t.wt.push(e)},pt=(t,e,n,o)=>{const s=()=>{t.St&&n()};ut(t,(()=>(s(),at(e,o,s,k,t))))},dt=(t,e,n)=>{const o=e.ot,{D:s,j:r}=e.L;if(pt(t,r,(()=>{t[o]=s(n)}),n),e.R===x.P){const e="number"===t.type||"range"===t.type,s=()=>{let s=t[o];s=e?Number(s):s,((t,e,n)=>{const[o,s]=A(t,e);Reflect.set(o,s,n)})(n.$,r[0],s)};t.addEventListener("input",s)}},{C:mt,A:bt,S:yt,U:vt,I:ht,k:gt,V:xt,N:St,P:Ct}=x,wt={[mt]:(t,e,n)=>{const o=e.L,s=e.ot,r=n.fn[o],c=t=>r(t,n.$);ut(t,(()=>(t.addEventListener(s,c),()=>t.removeEventListener(s,c))))},[bt]:dt,[Ct]:dt,[yt]:(t,e,n)=>{const{L:o,ot:s}=e,{D:r,j:c}=o;pt(t,c,(()=>p(t,s,r(n))),n)},[vt]:(t,e,n)=>{const o=e.L,s=e.ot;pt(t,o.j,(()=>o.D(n)?p(n,s,""):u(t,s)),n)},[ht]:(t,e,n)=>{t.fn||(t.fn=Object.create(t.parent.fn)),t.fn[e.ot]=n.fn[e.L]},[gt]:(t,e,n)=>{const{L:o,ot:s}=e,{D:r,j:c}=o,_=()=>{t.$[s]=r(n)};t.kt?_():(t.bt||(t.bt={}),t.bt[s]=r(n)),at(c,n,_,w)},[xt]:(t,e)=>{(t.kt?t.$:t.bt)[e.ot]=e.L},[St]:(t,e,n)=>{const o=e.L;n.refs[o]=t}},kt=(t,e,n)=>{e.forEach((e=>{const o=e.R,s=wt[o];s&&s(t,e,n)}))},At=(t,e)=>{t.G&&(e.G=t.G),t.hasChildNodes()&&t.childNodes.forEach(((t,n)=>{At(t,e.childNodes[n])}))},Pt=t=>{const e=t.cloneNode(!0);return At(t,e),e},Ut=(t,e,n=!1,o)=>{t.style.animation=e,n&&Vt(t,(()=>{t.style.animation="",o&&o()}))},Vt=(t,e)=>{t.addEventListener("animationend",e,{once:!0})},It=(t,e)=>{const n=t.G,o=[t];n.Z&&n.Z.forEach((t=>{o.push(Pt(t))})),t.At=!0;const{tt:s}=n,r=t.previousSibling;let c,_;const i=()=>{let t=!1;o.forEach((n=>{const{At:o,isConnected:s}=n,{Y:i,W:a}=n.G,{v:l,h:f}=a,u=!i||i.D(e);if(!t&&u){if(t=!0,!s){o||(Ot(n,e),n.At=!0);const t=()=>{r.after(n),l&&_&&Ut(n,l,!0)};c&&c.G.W.h&&n!==c?Vt(c,t):t(),c=n}}else s&&(f?(d=f,(p=n).disconnectedCallback(),p.Pt=!0,Ut(p,d,!0,(()=>p.remove()))):n.remove());var p,d}))};at(s,e,i,w),e.ut.push((()=>{t.remove(),i(),_=!0}))},$t=t=>({Ut:t.offsetLeft,Vt:t.offsetTop}),Nt=(t,e)=>{const[n,o]=t,{It:s,$t:r,Nt:c,Rt:_}=e,i=((t,e,n)=>{const{jt:o,Dt:s,Mt:r}=t,c=Pt(o);return c.kt=!0,c.parent=s,c.bt=r(e,n),c})(e,o,n);0===n?r.after(i):s[n-1].after(i),s.splice(n,0,i),c.v&&_&&Ut(i,c.v,!0)},Rt=(t,n)=>{const[o,s]=t;((t,n)=>{t.Ot=!0,n.Ot=!0;const o=t.parentNode,s=n.parentNode,r=e("div"),c=e("div");o.replaceChild(r,t),s.replaceChild(c,n),o.replaceChild(n,r),s.replaceChild(t,c),t.Ot=!1,n.Ot=!1})(n[o],n[s]),nt(n,o,s)},jt=(t,e,n)=>{const o=$t(t),s=e.Ut-o.Ut,r=e.Vt-o.Vt;requestAnimationFrame((()=>{t.style.transform=`translate(${s}px, ${r}px)`,t.style.transition="",requestAnimationFrame((()=>{t.style.transform="",t.style.transition=`transform ${n}`}))}))},Dt=(t,e,n,o)=>{const{It:s,Rt:r,Nt:c,F:_}=t,{g:i,h:a}=c,{B:l,J:f}=_,u=Object.keys(n),p=()=>{u.length&&u.forEach((t=>{const e=Number(t),o=s[e];o&&n[e].forEach((t=>{const[e,n]=A(o.$[l],t.Gt);e[n]=t.Lt}))}))};e.length?(()=>{const n=(t=>{const{Dt:e,Tt:n,Et:o}=t,s=o();return{Ht:s,qt:n(),Ft:tt(s)}})(t),c=((t,e,n)=>{const o={Kt:[],zt:[],Bt:[]};for(const s of n)for(;;){const n=t.Ht[s];if(!P(n))break;if(n in e.Ft)break;o.Kt.push(s),t.Ht.splice(s,1),t.qt.splice(s,1)}for(const s of n){const n=e.Ht[s];P(n)&&(n in t.Ft||(o.zt.push([s,e.qt[s]]),et(t.Ht,s,n),et(t.qt,s,e.qt[s])))}for(const s of n){const n=t.Ht[s];if(n!==e.Ht[s]){const r=e.Ft[n];o.Bt.push([s,r]),nt(t.Ht,s,r),nt(t.qt,s,r)}}return t.Ft=tt(t.Ht),o})(o,n,e);i&&r&&((t,e)=>{for(const n of t){const t=e[n];t&&(t.Jt=$t(t))}})(e,s);const _=()=>{((t,e)=>{const{Kt:n,zt:o,Bt:s}=t,{It:r}=e;n.forEach((t=>{return(n=r)[e=t].remove(),void n.splice(e,1);var e,n})),o.forEach((t=>Nt(t,e))),s.forEach((t=>Rt(t,r)))})(c,t),r&&(f&&e.forEach((t=>{s[t]&&(s[t].$[f]=t)})),p()),i&&r&&((t,e,n)=>{for(const o of e){const e=t[o];e&&e.Jt&&jt(e,e.Jt,n)}})(s,e,i)};if(a&&c.Kt.length){((t,e,n)=>{const o=t.length-1;t.forEach(((t,s)=>{Ut(t,e,!0,(()=>{s===o&&n()}))}))})(c.Kt.map(((t,e)=>s[t+e])),a,_)}else _();o.qt=[...n.qt],o.Ht=n.Ht,o.Ft=n.Ft})():p()},Mt=(t,e)=>{const o=t.G,s=o.F,{K:r,J:c,B:_,m:i}=s,a=r.j[0],l=a.join("."),f=n("loop/"),u={qt:[],Ht:[],Ft:{}},p=(t,e)=>{const n={[_]:t};return c&&(n[c]=e),n},d=()=>r.D(e),m=(e,n)=>{const o={$:p(e,n),H:t.H};return i.D(o)},b={It:[],$t:f,jt:t,Tt:d,Mt:p,Et:()=>d().map(m),Dt:e,Rt:!1,F:s,Nt:o.W},y=()=>{const t=d().length;Dt(b,(t=>{const e=[];for(let n=0;n<t;n++)e.push(n);return e})(t),{},u)};e.ut.push((()=>{t.before(f),t.before(n("/loop")),t.remove(),y(),b.Rt=!0}));it(a,e,(t=>{if(t.some((t=>{return e=t.path,n=a,e.length===n.length&&e.every(((t,e)=>t===n[e]));var e,n})))y();else{const[e,n]=((t,e,n)=>{const o=new Set,s={},r=n.length;return t.forEach((t=>{const{newValue:n,oldValue:c,livePath:_}=t,i=_();if(i.join(".").startsWith(e)){const t=i[r];if(i.length===r+1)if("length"===t)for(let t=n;t<c;t++)o.add(t);else o.add(Number(t));else{const e={Gt:i.slice(r+1),Lt:n};t in s?s[t].push(e):s[t]=[e]}}})),[[...o].sort(((t,e)=>t-e)),s]})(t,l,a);Dt(b,e,n,u)}}),k)},Ot=(t,e)=>{const{G:n,nodeType:s}=t;if(n){if(t.wt=[],e.dt.add(t),n.T){if(t.parent=e,t.bt={},n.F)return Mt(t,e);n.X===o.i&&It(t,e)}else if(s===t.TEXT_NODE)return((t,e)=>{const n=t.G,{D:o,j:s}=n.L;pt(t,s,(()=>{t.textContent=o(e)}),e)})(t,e);n.q&&kt(t,n.q,e)}(t=>t.G&&t.G.T)(t)||t.hasChildNodes()&&t.childNodes.forEach((t=>Ot(t,e)))},Gt=t=>{t[l].forEach((t=>t()));for(const e in t)Gt(t[e])},Lt=(t,e)=>{((t,e)=>{let n=t;for(let t=0;t<e.length-1&&n;t++)n[l].forEach((t=>t())),n=n[e[t]];n&&Gt(n)})(t.lt,e),t.Qt||(t=>{t.Qt=!0,setTimeout((()=>{(t=>{const{gt:e,xt:n}=t.yt,{ft:o,at:s}=t;e.forEach((t=>t(o))),s.forEach((t=>((t,e)=>{t.forEach((t=>t(e))),t.clear()})(t,o))),n.forEach((t=>t(o)))})(t),t.ft=[],t.Qt=!1}),0)})(t)},Tt={Wt:[]},Et=(t,e,n)=>{const[o,s]=(t=>{_t.rt=!0;const e=t();_t.rt=!1;const n=[...Tt.Wt];return Tt.Wt=[],[e,n]})(t),r=s.map((t=>1===t.length?t:t.slice(0,-1)));return at(r,n,(()=>{n.$[e]=t()}),w),o},Ht=(t,e,n=[])=>{if(!U(e))return e;const o=t.parent&&t.parent.$;let s=n;const r=Array.isArray(e)?[]:{};return Object.keys(e).forEach((n=>{r[n]=Ht(t,e[n],[...s,n])})),new Proxy(r,{has:(t,e)=>e in t||!!o&&e in o,set(e,n,r){const c=e[n];if(c===r)return!0;if(n===i)return s=[...s.slice(0,-1),r],!0;const _=n in e;let l=r;if(_t.ct){if(_)return!0;"function"==typeof l&&(l=Et(l,n,t))}else if(!_&&o&&n in o)return Reflect.set(o,n,l);if(U(l)&&(l[a]?Array.isArray(e)&&(l[i]=n):l=Ht(t,l,[...s,n])),c!==l){const e=()=>[...s,n],o=e();t.ft.push({oldValue:c,newValue:l,path:o,livePath:e}),Lt(t,o)}return Reflect.set(e,n,l)},deleteProperty:(e,n)=>(Lt(t,[...s,n]),Reflect.deleteProperty(e,n)),get(e,n){if(n===a)return!0;if(n===_)return e;if(_t.rt){const t=[...s,n];0!==s.length?Tt.Wt[Tt.Wt.length-1]=t:Tt.Wt.push(t)}return n in e?_t._t?t:Reflect.get(e,n):o?Reflect.get(o,n):void 0}})};function qt(t,e){t.$=Ht(t,t.bt||{}),e.js&&((t,e)=>{_t.ct=!0,t(e),_t.ct=!1})(e.js,t),t.kt&&kt(t,t.G.q,t),t.childNodes.forEach((e=>Ot(e,t))),((t,e)=>{const n=Pt(e.content);Ot(n,t),ot(t.ut),t.attachShadow({mode:"open"}).append(n)})(t,e.st),t.wt&&ft(t)}const Ft=t=>{t.St=!1,t.Ct.forEach((t=>t()))},Kt=n=>{const{o:o}=t,s=n.name;if(s in o)return;const r=(t=>{const n=new t,o=t.name;return n.Xt=t,n.H=o,n.Yt=g(o),n.st=e("template"),n.nt=n.components?n.components.reduce(((t,e)=>{const{name:n}=e;var o;return t[(o=n,(t=>t.toUpperCase())(o)+"-")]=n,t}),{}):{},n})(n);o[s]=r,st(r);class c extends HTMLElement{constructor(){super(),lt(this,s)}connectedCallback(){((t,e)=>{if(t.Ot)return;t.Pt=!1;const{dt:n,it:o,yt:s,shadowRoot:r}=t;r?o.forEach(ft):(qt(t,e),n.forEach(ft)),s.vt.forEach((t=>t()))})(this,r)}disconnectedCallback(){(t=>{const{yt:e,it:n,Pt:o,Ot:s}=t;o||s||(n.forEach(Ft),e.ht.forEach((t=>t())))})(this)}}const{Yt:_,components:i}=r;customElements.define(_,c),i&&i.forEach(Kt)};exports.render=(n,o)=>{o&&(t._={...t._,...o}),Kt(n);const s=n.name,r=document.querySelector(s),c=e(g(s));return r.replaceWith(c),c};
